(function(a){a("#upi-ref-num").keypress(function(e){if(8!=e.which&&0!=e.which&&(e.which<48||e.which>57))return a(".upi-order-status").html('<span class="upi-validation-error" style="color: #ff0000;font-size: 12px;">'+woo_upi_ajax_data.verify_number+"</span>").show().delay(5e3).fadeOut("slow"),!1}),a("#upi-ref-number").on("submit",function(e){a("#upi-send").val("Please wait...").attr("disabled","disabled"),a("#upi-ref-num").attr("disabled","disabled"),a(".upi-order-status").html('<span class="upi-validation-success" style="color: #57bf6d;font-size: 12px;">'+woo_upi_ajax_data.verify_start+"</span>").show();var t=a("#upi-ref-num").val();e.preventDefault(),12==t.length?a.ajax({url:woo_upi_ajax_data.ajaxurl,type:"POST",dataType:"json",data:{action:"process_collect_upi_id",orderID:woo_upi_ajax_data.orderid,tranid:t,security:woo_upi_ajax_data.security},success:function(e,t,s){!0===e.success?(a(".upi-order-status").html('<span class="upi-validation-success" style="color: #57bf6d;font-size: 12px;">'+e.data.message+"</span>").show(),""!=e.data.redirect&&setTimeout(function(){location.href=e.data.redirect},3e3)):(a(".upi-order-status").html('<span class="upi-validation-error" style="color: #ff0000;font-size: 12px;">'+woo_upi_ajax_data.verify_failed+"</span>").show().delay(5e3).fadeOut("slow"),a("#upi-send").val("Submit").removeAttr("disabled"),a("#upi-ref-num").val("").removeAttr("disabled"),setTimeout(function(){location.reload()},5e3))},error:function(e){a(".upi-order-status").html('<span class="upi-validation-error" style="color: #ff0000;font-size: 12px;">'+e.status+" "+e.statusText+": "+woo_upi_ajax_data.verify_error+"</span>").show().delay(5e3).fadeOut("slow"),a("#upi-send").val("Submit").removeAttr("disabled"),a("#upi-ref-num").val("")}}):(a("#upi-send").val("Submit").removeAttr("disabled"),a("#upi-ref-num").removeAttr("disabled"),a(".upi-order-status").html('<span class="upi-validation-error" style="color: #ff0000;font-size: 12px;">'+woo_upi_ajax_data.validate_number+"</span>").show().delay(5e3).fadeOut("slow"))});var e=a("#data-qr-code"),t=e.data("link"),s=new QRCode("qrcode",{width:e.data("width"),height:e.data("height")});s.makeCode(t)})(jQuery);